<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>登录</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim 和 Respond.js 是为了让 IE8 支持 HTML5 元素和媒体查询（media queries）功能 -->
    <!-- 警告：通过 file:// 协议（就是直接将 html 页面拖拽到浏览器中）访问页面时 Respond.js 不起作用 -->
    <!--[if lt IE 9]
    <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    [endif]-->
    <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
<!--    <script src="js/jquery-3.2.1.min.js"></script>-->
    <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
<!--    <script src="js/bootstrap.min.js"></script>-->
    <script type="text/javascript">
        // 合法性检验
        var a=1234;//得到一个随机数
        do{
            a=Math.ceil(Math.random()*10000);
            var sa=a.toString();
        }while(sa=="")
        document.getElementById("img").setAttribute ("src","image.jsp?rand="+sa+"&time="+new Date().getTime());
        //document.write(2222);
        function check()
        {
            var c_na=document.aaa.name.value;
            var c_pw=document.aaa.password.value;
            var input=document.aaa.input.value;
            if(c_na==""||c_pw=="")
            {alert("用户名或密码不能为空");}
            else
            { if(sa!=input){alert("验证码不正确，请重新输入");}
            else{document.aaa.submit();}
            }
        }
        function change() {
            a=Math.ceil(Math.random()*10000);//得到一个随机数
            sa=a.toString();
            //加个随即数字是为了使每次访问image.jsp的地址不一样，这样浏览器不会取本地缓存的数据
            document.getElementById("img").src ="image.jsp?rand="+sa+"&time="+new Date().getTime();
//       window.location.reload();//页面刷新
        }
    </script>
</head>
<body>
<!-- 路径导航 -->
<ol class="breadcrumb">
    <li><a href="MainPage.html">主页</a></li>
    <li class="active">登录</li>
</ol>
<form class="form-horizontal" action="login_judge.action" method="post" name="aaa">
    <div class="form-group">
        <label for="inputEmail3" class="col-sm-2 control-label">Name</label>
        <div class="col-sm-8">
            <input type="text" class="form-control" id="inputEmail3" name="name" placeholder="Name">
        </div>
    </div>
    <div class="form-group">
        <label for="inputPassword3" class="col-sm-2 control-label">Password</label>
        <div class="col-sm-8">
            <input type="password" class="form-control" id="inputPassword3" name="password" placeholder="Password">
        </div>
    </div>
    <div class="form-group">
        <label for="code" class="col-sm-2 control-label">Verification code</label>
        <div class="col-sm-1">
<!--            <input type="password" class="form-control" id="code" name="password" placeholder="Password">-->
            <input type="text" class="form-control" id="code" name=input maxlength=4 placeholder="Input code">
            <img border=0  id="img">
            <a href="#" onclick="change()"><span style="font-size: x-small; ">换一张</span></a>
        </div>
    </div>
<!--    <div class="form-group">-->
<!--        <label for="change" class="col-sm-2 control-label">change</label>-->
<!--        <div class="col-sm-10">-->
<!--            <input type="password" class="form-control" id="change" name="password" placeholder="Password">-->
<!--        </div>-->
<!--    </div>-->
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <div class="checkbox">
                <label>
                    <input type="checkbox"> Remember me
                </label>
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
<!--            <button type="submit" class="btn btn-default">Sign in</button>-->
            <input type="button" class="btn btn-default" onclick="check()" value="Sign in"/>
        </div>
    </div>
</form>

</body>
</html>